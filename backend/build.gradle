
apply plugin: "java"
apply plugin: "application"

mainClassName = "gradtrader.App"

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile "io.dropwizard:dropwizard-core:0.9.2"
    compile "io.dropwizard:dropwizard-assets:0.9.2"
}

repositories {
    mavenCentral()
}

jar {
  baseName = "GradTrader"
  version = "${rootProject.version}"
}

jar {
	manifest {
	    attributes(
	            "Implementation-Title": "stuff",
	            "Implementation-Version": rootProject.version,
	            "Main-Class": mainClassName )
	}
  from("../frontend/dist") {
    into "assets"
  }
}

run {
    main mainClassName
    args "server"
    args "config.yml"
}

jar.dependsOn(":frontend:assemble")
